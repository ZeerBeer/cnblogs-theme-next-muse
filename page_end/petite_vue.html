<script>
    const pv = document.querySelector('#petite-vue')
    pv.onload = pv.onreadystatechange = _ => {
        if (!(!pv.readyState || pv.readyState === 'loaded' || pv.readyState === 'complete')) return
        // save to origin 
        const originBody = document.createElement('html')
        originBody.innerHTML = document.body.innerHTML
        // body html update
        document.body.innerHTML = originBody.querySelector('#page_begin_html').innerHTML
        // body css update
        document.body.classList.remove('skin-simplememory')
        document.body.classList.remove('has-navbar')
        document.body.classList.remove('mathjax2')
        document.body.classList.remove('no-navbar')
        document.body.style.visibility = 'visible'
        // body html append token
        const tokendom = originBody.querySelector('#antiforgery_token')
        document.body.appendChild(tokendom)
        // vm mount
        const vm = (window.vm = PetiteVue.reactive({}))
        vm.async = {}
        vm.header = GetHeader(originBody)
        vm.main = GetMain(originBody)
        vm.main.page = GetPage(originBody)
        PetiteVue.createApp({ vm, Header, Main, Footer, Page }).mount()
    }
</script>